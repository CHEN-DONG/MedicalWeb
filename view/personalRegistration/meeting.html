<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="../../assets/css/semantic.min.css" rel="stylesheet">
    <link href="../../assets/css/style.css" rel="stylesheet">
    <link href="../../css/common.css" rel="stylesheet">
    <script src="../../assets/js/jquery.min.js"></script>
    <script src="../../assets/js/semantic.min.js"></script>
    <title>个人报名</title>
</head>

<body>
    <header>
        <div class="ui borderless large pointing btm menu">
            <a class="item active">首页</a>
            <a class="item">参会指南</a>
            <a class="item">参会报名</a>
            <a class="item">会议动态</a>
            <a class="item">会议视频</a>
            <a class="item">会议征文</a>
            <a class="item">关于我们</a>
            <a class="item">登录</a>
            <a class="item hide">个人中心</a>
        </div>
        <div class="ui borderless btm-sub menu">
            <a class="item active">组织架构</a>
            <a class="item">参会专家</a>
            <a class="item">会议日程</a>
        </div>
    </header>
    <div class="container">
        <ul class="sidebar float-left">
            <li>选择商品
            </li>
            <li>
                <span class="active-slide-option">会议与课程</span><span class="total-price meeting-price"></span></li>
            <li>住宿费<span class="total-price hotel-price"></span></li>
            <li>餐饮费<span class="total-price catering-price"></span></li>
            <li>资料费</li>
        </ul>
        <div class="main-content">
            <ul class="content-list">
                <li>
                    <input id="checkbox1" type="checkbox" class="check-mark-radio">
                    <label for="checkbox1"></label>
                    <div>
                        <p class="meeting-name">会议名称01</p>
                        <p class="promotion">3月1日支付优惠500元</p>
                        <div class="course-price">
                            <span class="original-price">费用1000元</span> 优惠后
                            <span value="1000">500</span>
                        </div>
                    </div>
                    <input type="button" class="ui button primary middle-btn detail-btn" value="详情">
                </li>
                <li>
                    <input id="checkbox2" type="checkbox" class="check-mark-radio">
                    <label for="checkbox2"></label>
                    <div>
                        <p class="meeting-name">会议名称02</p>
                        <p class="no-promotion">暂无优惠</p>
                        <div class="course-price">
                            费用
                            <span value="1000">1000</span>
                        </div>
                    </div>
                    <input type="button" class="ui button primary middle-btn detail-btn" value="详情">
                </li>
                <li>
                    <input id="checkbox3" type="checkbox" class="check-mark-radio">
                    <label for="checkbox3"></label>
                    <div>
                        <p class="meeting-name">课程名称01</p>
                        <p class="promotion">3月1日支付优惠500元</p>
                        <div class="course-price">
                            <span class="original-price">费用1000元</span> 优惠后
                            <span value="500">1000</span>
                        </div>
                    </div>
                    <input type="button" class="ui button primary middle-btn detail-btn" value="详情">
                </li>
                <li>
                    <input id="checkbox4" type="checkbox" class="check-mark-radio">
                    <label for="checkbox4"></label>
                    <div>
                        <p class="meeting-name">课程名称02</p>
                        <p class="no-promotion">暂无优惠</p>
                        <div class="course-price">
                            费用
                            <span value="1000">1000</span>
                        </div>
                    </div>
                    <input type="button" class="ui button primary middle-btn detail-btn" value="详情">
                </li>
            </ul>
            <div class="coupon-total">
                <h4>优惠券</h4>
                <div>
                    <a class="coupons">有2张优惠券可用<i class="angle right icon"></i></a>
                    <P class="total-price">费用合计 :<span class="total-price meeting-price"></span></P>
                </div>
            </div>
            <input type="submit" class="ui button primary float-right wide-btn" value="提交">
            <div class="next-page-text">(提交后进入下一项选择)</div>
        </div>
    </div>
    <footer>
        <div class="footer">
            <p>Copyright © 2018 CCS&ESS Meetings 2018. All Rights Reserved.</p>
            <p>京ICP备13020642号-20 京公网备案11010502025794</p>
        </div>
    </footer>
    <div class="ui modal small">
        <i class="close icon"></i>
        <div class="header">
            提示
        </div>
        <div class="image content">
            <div class="description">
                请选择会议！
            </div>
        </div>
        <div class="actions">
            <div class="ui cancel button">关闭</div>
        </div>
    </div>
</body>

</html>
<script>
    $('.ui.modal').modal();
    var calculatePrice = function() {
        var meetingPrice = 0;
        var checked = $(':checkbox:checked');
        for (var i = 0; i < checked.length; i++) {
            var checked = $($(':checkbox:checked'));
            meetingPrice += parseInt($(checked[i]).parent("li").find("span:last").attr("value"));
        }
        return meetingPrice;
    }
    $(document).ready(function() {
        $(".meeting-price").each(function(i) {
            $(this).text(calculatePrice() + "元");
        });
    });
    $(":submit").click(function() {
        var checked = $(':checkbox:checked');
        if (checked.length == 0) {
            $('.ui.modal')
                .modal('show');
        } else {
            sessionStorage.setItem("meetingPrice", calculatePrice());
            window.location.href = "hotel.html";
        }
    });
    $(".detail-btn").click(function() {
        window.location.href = "detail.html";
    });
    $(":checkbox").click(function() {
        $(".meeting-price").each(function(i) {
            $(this).text(calculatePrice() + "元");
        });
    });
</script>